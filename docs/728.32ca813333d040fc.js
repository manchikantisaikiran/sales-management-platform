"use strict";(self.webpackChunksales_management=self.webpackChunksales_management||[]).push([[728],{9728:(m,c,a)=>{a.r(c),a.d(c,{DashboardModule:()=>p});var g=a(9808),t=a(4893),d=a(8345);let l=(()=>{class e{constructor(n){var s;this.localStrorageService=n,this.orders=[],this.totalOrdersCount=0,this.allCustomersCount=0,this.allCustomersMappings={},this.customerVisitMappings={},this.orders=this.localStrorageService.readLocalStorage("orders");const i=null===(s=this.orders)||void 0===s?void 0:s.filter(o=>{const _=o.order_date;return this.customerVisitMappings[_]?this.customerVisitMappings[_]++:this.customerVisitMappings[_]=1,!this.allCustomersMappings[o.customer.email]&&(this.allCustomersMappings[o.customer.email]=!0,o.customer)});this.totalOrdersCount=Object.keys(this.customerVisitMappings).length,this.allCustomersCount=(null==i?void 0:i.length)||0}fetchOrders(){this.generateCustomerRatingsChart(),this.generateCustomerVisitsCharts()}ngOnInit(){}ngAfterViewInit(){this.fetchOrders()}generateCustomerRatingsChart(){Plotly.newPlot("customer__ratings__chart",[{type:"pie",values:[30,40,40,200,160],labels:["1 Star","2 Star","3 Star","4 Star","5 Star"],textinfo:"label+percent",textposition:"outside",automargin:!0}])}generateCustomerVisitsCharts(){let n=Object.keys(this.customerVisitMappings),s=Object.values(this.customerVisitMappings);Plotly.newPlot("new__customer__visits__chart",[{x:n,y:s,type:"bar"}])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:42,vars:2,consts:[[1,"container"],[1,"page__heading"],[1,"page__title"],[1,"page__sub__title"],[1,"page__content"],[1,"sales__insights__numbers"],[1,"sales__count__card"],[1,"icon__box"],[1,"fa","fa-shopping-cart"],[1,"sales__count"],[1,"sales__card__description"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-star"],[1,"sales__insights__charts"],[1,"chart__card"],[1,"chart__title"],["id","customer__ratings__chart",1,"customer__ratings__chart"],["id","new__customer__visits__chart",1,"new__customer__visits__chart"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div")(3,"div",2),t._uU(4,"Dashboard"),t.qZA(),t.TgZ(5,"div",3),t._uU(6,"All your stats will be shown here to you"),t.qZA()()(),t.TgZ(7,"section",4)(8,"div",5)(9,"div",6)(10,"div",7),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"div")(13,"div",9),t._uU(14),t.qZA(),t.TgZ(15,"div",10),t._uU(16,"No. of Total Orders"),t.qZA()()(),t.TgZ(17,"div",6)(18,"div",7),t._UZ(19,"i",11),t.qZA(),t.TgZ(20,"div")(21,"div",9),t._uU(22),t.qZA(),t.TgZ(23,"div",10),t._uU(24,"No. of Customers"),t.qZA()()(),t.TgZ(25,"div",6)(26,"div",7),t._UZ(27,"i",12),t.qZA(),t.TgZ(28,"div")(29,"div",9),t._uU(30,"480"),t.qZA(),t.TgZ(31,"div",10),t._uU(32,"No. of Customers Reviewed"),t.qZA()()()(),t.TgZ(33,"div",13)(34,"div",14)(35,"div",15),t._uU(36,"Customer Ratings"),t.qZA(),t._UZ(37,"div",16),t.qZA(),t.TgZ(38,"div",14)(39,"div",15),t._uU(40,"New Customer Visits"),t.qZA(),t._UZ(41,"div",17),t.qZA()()()()),2&n&&(t.xp6(14),t.Oqu(s.totalOrdersCount),t.xp6(8),t.Oqu(s.allCustomersCount))},styles:["[_ngcontent-%COMP%]:root{--primary: #fbd232;--white: #ffffff;--white-shade: #f8f9fa}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;width:100%}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]   .sales__count__card[_ngcontent-%COMP%]{background:var(--white);padding:24px;border-radius:16px;display:flex;gap:1rem;width:inherit}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]   .sales__count__card[_ngcontent-%COMP%]   .icon__box[_ngcontent-%COMP%]{background:var(--primary);padding:1rem;display:flex;justify-content:center;align-items:center;border-radius:8px}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]   .sales__count__card[_ngcontent-%COMP%]   .sales__count[_ngcontent-%COMP%]{font-weight:500;font-size:1.25em}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]   .sales__count__card[_ngcontent-%COMP%]   .sales__card__description[_ngcontent-%COMP%]{color:#07041799;font-size:.7em}.page__content[_ngcontent-%COMP%]   .sales__insights__charts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin-top:1rem;width:100%}.page__content[_ngcontent-%COMP%]   .sales__insights__charts[_ngcontent-%COMP%]   .chart__card[_ngcontent-%COMP%]{background:var(--white);padding:24px;border-radius:16px;width:100%}.page__content[_ngcontent-%COMP%]   .sales__insights__charts[_ngcontent-%COMP%]   .chart__card[_ngcontent-%COMP%]   .chart__title[_ngcontent-%COMP%]{font-size:1em;padding-bottom:1rem;margin-bottom:1rem;font-weight:400;border-bottom:1px solid #d9dbe9}@media screen and (min-width: 768px){.page__content[_ngcontent-%COMP%]   .sales__insights__charts[_ngcontent-%COMP%]{flex-direction:row}.page__content[_ngcontent-%COMP%]   .sales__insights__charts[_ngcontent-%COMP%]   .chart__card[_ngcontent-%COMP%]{width:50%}.page__content[_ngcontent-%COMP%]   .sales__insights__numbers[_ngcontent-%COMP%]{flex-wrap:nowrap}}"]}),e})();var u=a(9991);const h=[{path:"",component:l}];let p=(()=>{class e{constructor(){console.log("came here")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,u.Bz.forChild(h)]]}),e})()}}]);